javascript: !function(){var e={};function t(e){return null==e}function n(e){return document.querySelector(e)}function l(t,n){var l=document.createElement(t);return n&&(l.id=n,e[n]=l),l}var i={play:'<svg width="16" height="16" fill="black" viewBox="0 0 16 16"><path d="M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"/></svg>',pause:'<svg width="16" height="16" fill="black" viewBox="0 0 16 16"><path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/></svg>',show:'<svg width="16" height="16" fill="black" viewBox="0 0 16 16"><path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/><path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/></svg>',close:'<svg width="16" height="16" fill="black" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg>'},a=.12,o=a/2,r="display: flex; align-items: center;",p="vrepeater-dp",d=n("video"),u=window.location.href.indexOf("disneyplus.com")>=0&&!t(d),c=w(),v=d&&!d.paused,g=0,h=null,f=null,x="";function y(t,n){t in e&&(e[t].innerHTML=n)}function b(e){return"play"===e?v?i.pause:i.play:"step"===e?optGoing?i.step:i.going:i[e]}function m(e){var a,o=l("button","vrepeater-button-"+e);return o.style="width: 32px; height: 32px; margin: 0 2px; "+r,y(o.id,b(e)),o.addEventListener("click","play"===(a=e)?e=>{t(d)||(d.paused?(y("vrepeater-button-play",i.pause),d.play()):(y("vrepeater-button-play",i.play),d.pause()))}:"close"===a?e=>{f&&(clearInterval(f),f=null);var t=n("#"+p);t&&t.remove()}:"show"===a?e=>{console.log("script",h)}:"step"===a?e=>{optGoing=!optGoing,console.log("movie id:",w()),y("vrepeater-button-step",b("step"))}:function(e){console.log("handleClick:",a,e)}),o}function w(){var e=window.location.href;return e.substring(e.lastIndexOf("/")+1)}var z=null;function C(e){if(!t(e.end)){var n={movieID:c,index:e.index,start:e.start,end:e.end,text:e.text};if(null!==z){const e="https://gx.tool4.us/pushText",t=new window.XMLHttpRequest;t.onload=function(){200===t.status||t.status,t.readyState},t.withCredentials=!1,t.open("POST",e,!0),t.timeout=12e3,null!==z&&(t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(z)))}z=n}}function M(e,n){null!==e&&(e.startsWith("\n")&&(e=e.substring(1)),e=e.startsWith("(")?null:e.replaceAll("\n"," ")),null===e&&null!==h?t(h.end)&&(h.end=n,C(h)):t(e)||x===e||(x=e,!function(e){return/[A-Z]/.test(e[0])||'"'===e[0]||"'"===e[0]||"â™ª"===e[0]||"-"===e[0]}(e)?null!==h&&(h.text+=" "+e,h.end=null):(n-=o,null!==h&&t(h.end)&&(h.end=n,C(h)),h={index:g+=1,text:e,start:n}))}function L(){d&&(v!==!d.paused&&(v=!d.paused,y("vrepeater-button-play",b("play"))),v&&(s=n(".dss-subtitle-renderer-cue-positioning-box"),s?(null===h||d.currentTime>h.start)&&M(s.innerText.trim(),d.currentTime):M(null,d.currentTime)))}u?function(){var e=n("#"+p);if(t(e)){console.log("create main box for video-repeater"),(e=l("div",p)).style="position: fixed; z-index: 9999; top: 0px; right:0px; padding: 2px 4px;background-color: lightgray; border: 1px solid gray; border-radius: 0 0 4px 4px;display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: space-evenly;";var i=l("div",p+"-line1");i.style=r,["play","show","close"].map(e=>(i.appendChild(m(e)),e)),e.appendChild(i),document.body.appendChild(e)}else console.log("main box for video-repeater already craeted");t(f)&&(f=setInterval(L,1e3*a))}():alert("only available in disneyplus and video must be being played")}();